{"version":3,"sources":["../src/2.1.2.js"],"names":["stringToArray","value","match","module","exports","context","Syntax","RuleError","report","getSource","Str","node","text","strArray","index","length","item","test"],"mappings":"AAAA;AACA;AACA;;;;;;AAKA;;AACA;;AACA;;;;AACA;AACA,SAASA,aAAT,CAAuBC,KAAvB,EAA8B;AAC1B,WAAOA,MAAMC,KAAN,CAAY,kDAAZ,KAAmE,EAA1E;AACH;;AAEDC,OAAOC,OAAP,GAAiB,UAASC,OAAT,EAAkB;AAAA,QACzBC,MADyB,GACgBD,OADhB,CACzBC,MADyB;AAAA,QACjBC,SADiB,GACgBF,OADhB,CACjBE,SADiB;AAAA,QACNC,MADM,GACgBH,OADhB,CACNG,MADM;AAAA,QACEC,SADF,GACgBJ,OADhB,CACEI,SADF;;AAE/B,+BACKH,OAAOI,GADZ,YACiBC,IADjB,EACuB;AACf,YAAI,CAAC,iCAAkBA,IAAlB,EAAwBN,OAAxB,CAAL,EAAuC;AACnC;AACH;AACD,YAAMO,OAAOH,UAAUE,IAAV,CAAb;AACA,YAAME,WAAWb,cAAcY,IAAd,CAAjB;AACA,aAAK,IAAIE,QAAQ,CAAjB,EAAoBA,QAAQD,SAASE,MAArC,EAA6CD,OAA7C,EAAsD;AAClD,gBAAME,OAAOH,SAASC,KAAT,CAAb;AACA,gBAAI,oBAAYG,IAAZ,CAAiBD,IAAjB,KAA0B,CAAC,6BAAOA,IAAP,CAA/B,EAA6C;AACzCR,uBACIG,IADJ,EAEI,IAAIJ,SAAJ,CAAc,MAAMS,IAAN,GAAa,kBAA3B,EAA+C;AAC3CF;AAD2C,iBAA/C,CAFJ;AAMH;AACJ;AACJ,KAlBL;AAoBH,CAtBD","file":"2.1.2.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\n/*\n2.1.2.漢字\n漢字は「全角」で表記します。漢字の使用は、平成 22 年 11 月 30 日内閣告示第 2 号の「常用漢字表」に原則として準じます。\nただし、「常用漢字表」にない漢字であっても実務翻訳で慣用的に用いられる語には漢字を使います。\n */\nimport { isUserWrittenNode } from \"./util/node-util\";\nimport { isJoyo } from \"sorted-joyo-kanji\";\nimport { kanjiRegExp } from \"./util/regexp\";\n// http://qiita.com/YusukeHirao/items/2f0fb8d5bbb981101be0\nfunction stringToArray(value) {\n    return value.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[^\\uD800-\\uDFFF]/g) || [];\n}\n\nmodule.exports = function(context) {\n    let { Syntax, RuleError, report, getSource } = context;\n    return {\n        [Syntax.Str](node) {\n            if (!isUserWrittenNode(node, context)) {\n                return;\n            }\n            const text = getSource(node);\n            const strArray = stringToArray(text);\n            for (let index = 0; index < strArray.length; index++) {\n                const item = strArray[index];\n                if (kanjiRegExp.test(item) && !isJoyo(item)) {\n                    report(\n                        node,\n                        new RuleError(\"「\" + item + \"」は「常用漢字表」外の漢字です。\", {\n                            index\n                        })\n                    );\n                }\n            }\n        }\n    };\n};\n"]}