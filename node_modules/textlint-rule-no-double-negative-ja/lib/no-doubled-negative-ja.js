// LICENSE : MIT
"use strict";
// tokens -> event emitter -> return check

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function (context) {
    var Syntax = context.Syntax,
        getSource = context.getSource,
        report = context.report,
        RuleError = context.RuleError;
    // initialize each rules

    var ruleなくもない = (0, _nakuhaNai2.default)(context);
    var ruleないでもない = (0, _naidemoNai2.default)(context);
    var ruleないものではない = (0, _naimonodehaNai2.default)(context);
    var ruleないことはない = (0, _naikotohaNai2.default)(context);
    var ruleないわけではない = (0, _naiwakedehaNai2.default)(context);
    var ruleないとはいいきれない = (0, _naitohaiikireNai2.default)(context);
    var ruleないとはかぎらない = (0, _naitohakagiraNai2.default)(context);
    return _defineProperty({}, Syntax.Str, function (node) {
        var text = getSource(node);
        var results = [];
        var pushError = function pushError(error) {
            if (error) {
                results.push(error);
            }
        };
        return (0, _kuromojin.getTokenizer)().then(function (tokenizer) {
            return tokenizer.tokenizeForSentence(text);
        }).then(function (tokens) {
            tokens.forEach(function (token) {
                pushError(ruleなくもない(token));
                pushError(ruleないでもない(token));
                pushError(ruleないものではない(token));
                pushError(ruleないことはない(token));
                pushError(ruleないわけではない(token));
                pushError(ruleないとはいいきれない(token));
                pushError(ruleないとはかぎらない(token));
            });
        }).then(function () {
            results.forEach(function (error) {
                report(node, error);
            });
        });
    });
};

var _kuromojin = require("kuromojin");

var _nakuhaNai = require("./rules/nakuha-nai");

var _nakuhaNai2 = _interopRequireDefault(_nakuhaNai);

var _naidemoNai = require("./rules/naidemo-nai");

var _naidemoNai2 = _interopRequireDefault(_naidemoNai);

var _naimonodehaNai = require("./rules/naimonodeha-nai");

var _naimonodehaNai2 = _interopRequireDefault(_naimonodehaNai);

var _naikotohaNai = require("./rules/naikotoha-nai");

var _naikotohaNai2 = _interopRequireDefault(_naikotohaNai);

var _naiwakedehaNai = require("./rules/naiwakedeha-nai");

var _naiwakedehaNai2 = _interopRequireDefault(_naiwakedehaNai);

var _naitohaiikireNai = require("./rules/naitohaiikire-nai");

var _naitohaiikireNai2 = _interopRequireDefault(_naitohaiikireNai);

var _naitohakagiraNai = require("./rules/naitohakagira-nai");

var _naitohakagiraNai2 = _interopRequireDefault(_naitohakagiraNai);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = exports['default'];
//# sourceMappingURL=no-doubled-negative-ja.js.map