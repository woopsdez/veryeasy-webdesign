{"version":3,"file":"diff.js","sourceRoot":"","sources":["diff.ts"],"names":[],"mappings":";AAEA;IAOI,cAAY,OAAe,EAAE,QAAgB,EAAE,KAAa,EAAE,OAAiB,EAAE,IAAW;QACxF,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IAED,sBAAI,2BAAS;aAAb;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;QAC/C,CAAC;;;OAAA;IAED,yBAAU,GAAV,UAAW,KAAW;QAClB,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;IACxE,CAAC;IAED,wBAAS,GAAT,UAAU,KAAW;QACjB,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;YAC3D,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAC3D,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAED,uBAAQ,GAAR,UAAS,KAAW;QAChB,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;IACpC,CAAC;IACL,WAAC;AAAD,CAAC,AApCD,IAoCC;AApCD;sBAoCC,CAAA","sourcesContent":["import Rule from \"../rule\";\n\nexport default class Diff {\n    pattern: RegExp;\n    expected: string;\n    index: number;\n    matches: string[];\n    rule?: Rule;\n\n    constructor(pattern: RegExp, expected: string, index: number, matches: string[], rule?: Rule) {\n        this.pattern = pattern;\n        this.expected = expected;\n        this.index = index;\n        this.matches = matches;\n        this.rule = rule;\n    }\n\n    get tailIndex() {\n        return this.index + this.matches[0].length;\n    }\n\n    isEncloser(other: Diff) {\n        return this.index < other.index && other.tailIndex < this.tailIndex;\n    }\n\n    isCollide(other: Diff) {\n        if (other.index < this.index && this.index < other.tailIndex) {\n            return true;\n        }\n        if (this.index < other.index && other.index < this.tailIndex) {\n            return true;\n        }\n        return false;\n    }\n\n    isBefore(other: Diff) {\n        return this.index < other.index;\n    }\n}\n"]}