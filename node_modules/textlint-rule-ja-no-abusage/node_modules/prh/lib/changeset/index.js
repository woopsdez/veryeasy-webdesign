"use strict";
var r = require("../utils/regexp");
var diff_1 = require("./diff");
var changeset_1 = require("./changeset");
exports.ChangeSet = changeset_1.default;
function makeChangeSet(content, pattern, expected) {
    pattern.lastIndex = 0;
    var resultList = r.collectAll(pattern, content);
    var diffs = resultList.map(function (result) {
        return new diff_1.default(pattern, expected, result.index, Array.prototype.slice.call(result));
    });
    return new changeset_1.default(diffs);
}
exports.makeChangeSet = makeChangeSet;
//# sourceMappingURL=index.js.map